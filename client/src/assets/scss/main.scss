// Load our theme variables first
@use './_variables' as variables;

// Load Bootstrap and override variables via `with` (no @import)
@use 'bootstrap/scss/bootstrap' with (
  // Colors
  $primary: variables.$primary,
  $secondary: variables.$secondary,
  $success: variables.$success,
  $info: variables.$info,
  $warning: variables.$warning,
  $danger: variables.$danger,
  $light: variables.$light,
  $dark: variables.$dark,
  // Base
  // $body-bg: variables.$body-bg,
  // $body-color: variables.$body-color,
  // Radii
  $border-radius: variables.$border-radius,
  $border-radius-sm: 0.25rem,
  $border-radius-lg: 0.5rem,
  // Feature flags
  $enable-deprecation-messages: false,
  $enable-important-utilities: true,
  $enable-negative-margins: true,
  $enable-dark-mode: true,
  // Typography
  $font-family-sans-serif: (
      'Mona Sans',
      inter,
      system-ui,
      -apple-system,
      'Segoe UI',
      roboto,
      'Helvetica Neue',
      arial,
      'Noto Sans',
      sans-serif
    ),
  $font-weight-base: 400,
  // Components
  $navbar-padding-y: 0.5rem,
  $navbar-padding-x: 1rem
);

// Additional custom styles
body {
  font-family: variables.$body-font-family;
  background-color: variables.$body-white;
  font-optical-sizing: auto;
  font-weight: 400;
  font-style: normal;
  font-variation-settings: 'wdth' 100;
}

// Custom component overrides
.btn-primary {
  color: var(--bs-btn-primary-color);
  background-color: var(--bs-btn-primary-bg);
  border-color: var(--bs-btn-primary-border-color);

  &:focus,
  &:active,
  &.active {
    color: var(--bs-btn-primary-active-color);
    background-color: var(--bs-btn-primary-active-bg);
    border-color: var(--bs-btn-primary-active-border-color);
    box-shadow: 0 0 0 0.25rem rgb(32 45 72 / 25%);
  }

  &:disabled,
  &.disabled {
    color: var(--bs-btn-primary-disabled-color);
    opacity: 0.65;
  }

  &:hover:not(:disabled, .disabled) {
    color: var(--bs-btn-primary-hover-color);
    background-color: var(--bs-btn-primary-hover-bg);
    border-color: var(--bs-btn-primary-hover-border-color);
  }
}

// Toast specific styles (enhanced for better compatibility)
.toast {
  --bs-toast-zindex: 1055;
  --bs-toast-max-width: 350px;
  --bs-toast-padding-x: 0.75rem;
  --bs-toast-padding-y: 0.5rem;
  --bs-toast-spacing: 1rem;
  --bs-toast-font-size: 0.875rem;
  --bs-toast-color: ;
  --bs-toast-bg: rgb(var(--bs-body-bg-rgb) / 85%);
  --bs-toast-border-width: var(--bs-border-width);
  --bs-toast-border-color: var(--bs-border-color-translucent);
  --bs-toast-border-radius: var(--bs-border-radius);
  --bs-toast-box-shadow: var(--bs-box-shadow);
  --bs-toast-header-color: var(--bs-secondary-color);
  --bs-toast-header-bg: rgb(var(--bs-body-bg-rgb) / 85%);
  --bs-toast-header-border-color: var(--bs-border-color-translucent);

  // Ensure proper visibility
  position: relative;
  opacity: 1;

  &.show {
    opacity: 1;
  }
}

// Toast container positioning
.toast-container {
  position: fixed;
  z-index: 1055;

  &.top-end {
    top: 1rem;
    right: 1rem;
  }

  &.top-start {
    top: 1rem;
    left: 1rem;
  }

  &.top-center {
    top: 1rem;
    left: 50%;
    transform: translateX(-50%);
  }

  &.bottom-end {
    bottom: 1rem;
    right: 1rem;
  }

  &.bottom-start {
    bottom: 1rem;
    left: 1rem;
  }

  &.bottom-center {
    bottom: 1rem;
    left: 50%;
    transform: translateX(-50%);
  }
}
